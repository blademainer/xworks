language: go
sudo: required
services:
- docker
go:
- 1.11
install:
- export GO111MODULE=on
- docker login -u$DOCKER_USER -p$DOCKER_PASS
- docker login $XY_REPO -u$DOCKER_XY_USER -p$DOCKER_XY_PASS
#- "./build-server.sh arm"
- "./build-server.sh amd64"
- "./build-client.sh arm"
- "./build-client.sh amd64"
cache:
  directories:
  - vendor
env:
  global:
  - COMMIT=${TRAVIS_COMMIT::8}
  - secure: cspvRo7ju/Qh28NAm1Bc63xHVbk0zd0AaigViU6SyAe7G27u/Dx8HN6CWmmrW1v6uTE595ZkwcQwTRzPMkL9S+1IDuDq7vcMVgF3jFT8n1YLQgNxJPYLVbKA4PFMl8Y2cvby20MAd1zwDnvLWyF5BmlNXDY167prgVOQDW6Ybk2YSC2x084J56X7+2QRdNdnuVxH6xnD9TLFWq/pvPz8OQq4/LPWI0fGbATmmDCRkcbChhXavVDhzdlXMT96M+YPv2ySTl69yJXgEhRN6csXe5+LZBOgEGDAr5pDomy0oJQpJwK6cwBDtYE9YeNL9V7hzcgWDcG7BoZ0vHh5OirquWqI7m2p2ckkvpgAadKcenGcCusQVSkFIX/HO13ZLzEquj+QG7sDeW7BgpdsMzVJSlyvw8cwqaWJVUkkhRjy151f6XUZB3b8+tM6YhGs48oHUVDHqNAdkFKpJxK5D1Y2dcRZEq75dKSbNkFpXtd5kmb2oIILQJoNfXcibOgdFviE95SDsPax4vwoG/r08HXt6QyVetu0iUbfRnssYRQ36Ar5Jo3RumaloLVv8ozyOSdcOjDTzzW8l9gd2NopwXE53UXgDbv9lQPKd+XUnHBtTZgKZGnyWGnNaWhM797L59Zx3QZOD+UWHphh3lSD4F1Y1RzMShxJMl8LdkVvXLPiqKU=
  - secure: E0WIntMVOctLQmIiqiFo4OMlBAwiyQZLxKdwoowfKuSaapfZVupbJzB2iERCKacuW+udqmNK6EW7mNG8GUzZwJv0yo2vihojLNOXn8XwE2y/5D7/P2quI0sG8u1qG0h+cNHmI2FFJ5vnXAybHOmVcsTLZxl0rV4+YHgxAgIo8FT/tWSSUm2nYNA1G7Ggtz/fS2aXm8Z0WJs2J8s08kMxmuJQMdVFpIgFfa9Oh2vhAjyfV0xMfI1IdkMcH2CrVVT2bOoWLjw6HDZXdISdVx1VjzZWHvzqq/KdRMOCyrt2Wn3pDXDr7bFR0iv1GVJeNQRbmDYnhO32KiQdMaqmd4sUeIjdDNnBNViQlGoxv6l8cG998GkB8UdTU1L8g7UHXleV4HRVdEIQ8bymylHJm5XS9Cg6HAEXf+pyUgZZfFqh5ZwSo3a1/Qmz1V2fq+dyuJny5RxzPK0vb89QfhJ0bRQ7KxZkCjbaPi7cXKj5/sKrK5j+zk7Cbtr3Zp16WPIc3nJD57Yw4WPATXliUY/Gv5eFrM++d9UT1LZlAXDW+hZYat1XQT2gTRfqJeNewGkT7GhZnZE0e+Sos6lh1tOSKhyHyA7kemwpT3hjKq5586s4P6bMT40yQVuLsIVCd8b+qdYAvLQ97ASNxxmfm7HDNRzMWKLNtR0L5s1tcohSAYrMz5o=
  - secure: qybtEo7V/PhgHTMMR6qeDo/unoBYtfM3OBcse7TyYs/VgdzQ4CP1Nh3cV2Rf/joM0YRKJqHI7MxQ9wg/k65i7h2EdLFVOzCTRkrUW0ryjesHy1oACJMPTNMNPMt2uMySIILbfN4OG+6T/5cBd4rf2LdWn00KMKK8JQQqSUFEnfUe4nToWLvpLgWc0PnWsbgHIp7Y7UXDHx19Qyz2DsJl86TOIs43YYVzwh3l497BPdNgHku0R6v5UeG1QEGbJei93Yojo4OsJCbK8oC6+1E9QWxQYr/N0kX8y8D5pbkQ1l5lDdv4NggWxPZA0wJz5X4kFUcwACMnZaw60SujWjsTXvwkIVy76Ekg1MtwIS0jHXGXaEbMRBO2svJ1K/wcDprPglxE6TVlSHf/vFsrsFx76ZHrXSMskXkCF/ySxWgZRnAee2uTJCQiXiTz1d2XTyX3I1mb7rScCumdj6I8PUZAOl7YHtkdG6O/T3c6Uvq9plSHSpRbWGyJDbGm28LIbFyQJyATTG5To/x2DWGyrsBxptHrfZUbDtTaA3PoGUDH/kbK1skdo0HIJ++AA7iyolnSK586f666V21nB0GQGeVPOYQ42j/+x6TBn7185q0I5k4ZPe7sUG00+YhXDQVz85e1ifSGwX7s8x+o8Plah+6FcpYf0csvnFIYxmAUeIZtpEc=
  - secure: d1ocQlO8NCYQyrCNE7EGDIH14NBHdl+rb+BdqBwn1bSPX5xD0UVHw6kKg2q7MZPYHTjUYmUT7mRL3exGgJE4C7hwT3gHvZjwKlvt5bdmK4FpQzYsZCG0VPXZbtLeq/lMDEfQJ2FpIo9EBVtqmqYtIAQF5QlGsqdCtzrDRNyca/0f6y92QRVejffLRR0r0s+pKfemcLK3N9hYXw+3VwQAvSDpLTrTRRTRWCf25tEOeQSD4HE9305j3xWjQ/2n6ORuTvBHTC71SMIBPgIS3zHJ+KlVAE73StnJ5h2e9l/YNkiAa2DlY7+SP6tnXzFoQe1xrJfmDnO5m9cSAXmVmWMUfPPV6JKGXaNifW9F5Ls+WzbXk8fOl1L9Yy+b2Ca2xdRqJMEClX84b+dQmzvJtAoY/Lj/9UuuTKNEEz+ZMbP3GtA7J5q7XjC24mdnKgsb+J0wtBMIbjtpDM04wBQhcnftxxfSAnmArhla+WdJANc6w+Flp0XBsSUOkxxjwpBx4kIUquCeH9M0+Z/F9rw6djuAqbE/jLCcQQ8oIp7bv/QtiWTDz4DBF1JgmYfPaJ18yfXf3HIKVmCaV4QOA2ItQZ1qdYlDiDqEFYJGH5sqGx3NW3SNcR/p0QRb1Oyd2neNKPtzl7DWe08EIGnFl7Y5m4hoI9OfBT5o+UyowTjOuWYE62s=
  - XY_REPO=hub.xycloud.com/18504
